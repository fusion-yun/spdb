<?xml version="1.0" encoding="UTF-8"?>
<equilibrium xmlns:spdb="http://fusionyun.org/schema/">
    <ids_properties>
        <homogeneous_time dtype="int">0</homogeneous_time>
    </ids_properties>
    <time><spdb:data protocol="mdsplus">DATA(\TIME)</spdb:data></time>
    <vacuum_toroidal_field>
            <r0><spdb:data protocol="mdsplus" >DATA(\BCENTR)[{time_slice}]</spdb:data></r0>                
            <b0><spdb:data protocol="mdsplus" >DATA(\RBCENT)[{time_slice}]</spdb:data></b0>
    </vacuum_toroidal_field>
    <time_slice id="*">
        <boundary>
            <type>1</type>
            <outline>
                <r><spdb:data protocol="mdsplus">DATA(\BDRY)[0, 0: DATA(\NBDRY)[{time_slice}]-1,{time_slice}]</spdb:data></r>
                <z><spdb:data protocol="mdsplus">DATA(\BDRY)[1, 0: DATA(\NBDRY)[{time_slice}]-1,{time_slice}]</spdb:data></z>
            </outline>
            <!-- <psi_norm dtype="NONE">??</psi_norm> -->
            <psi><spdb:data protocol="mdsplus">DATA(\SSIBRY)</spdb:data></psi>

            <geometric_axis>
                <r><spdb:data protocol="mdsplus">DATA(\RSURF[{time_slice}])</spdb:data></r>
                <z><spdb:data protocol="mdsplus">DATA(\ZSURF[{time_slice}])</spdb:data></z>
            </geometric_axis>

            <!-- <minor_radius dtype="NONE">??</minor_radius> -->

            <elongation><spdb:data protocol="mdsplus">DATA(\KAPPA[{time_slice}])</spdb:data></elongation>
            <!-- <elongation_upper dtype="NONE">??</elongation_upper> -->
            <!-- <elongation_lower dtype="NONE">??</elongation_lower> -->

            <!-- <triangularity dtype="NONE">??</triangularity> -->
            <triangularity_lower><spdb:data protocol="mdsplus">DATA(\TRIBOT[{time_slice}])</spdb:data></triangularity_lower>
            <triangularity_upper><spdb:data protocol="mdsplus">DATA(\TRITOP[{time_slice}])</spdb:data></triangularity_upper>

            <!-- <x_point>
                <r dtype="NONE">??</r>
                <z dtype="NONE">??</z>
            </x_point>

            <strike_point>
                <r dtype="NONE">??</r>
                <z dtype="NONE">??</z>
            </strike_point>

            <active_limiter_point>
                <r dtype="NONE">??</r>
                <z dtype="NONE">??</z>
            </active_limiter_point> -->

        </boundary>

        <coordinate_system>
            <grid_type>
                <name>rectangular</name>
                <index dtype='int'>0</index>
                <description>Cylindrical R,Z ala eqdsk (R=dim1, Z=dim2). 
                    In this case the position arrays should not be filled since 
                    they are redundant with grid/dim1 and dim2.</description>
            </grid_type> 
            <grid>
                <dim1><spdb:data protocol="mdsplus">SIZE(DATA(\PPRIME)[*,{time_slice}])</spdb:data></dim1>
                <dim2><spdb:data protocol="mdsplus">DATA(\NBDRY)[{time_slice}]</spdb:data></dim2>
            </grid>
            <!-- <r><spdb:data protocol="mdsplus">DATA(\R)</spdb:data></r>
            <z><spdb:data protocol="mdsplus">DATA(\Z)</spdb:data></z> -->
        </coordinate_system>                

        <global_quantities>
            <beta_pol><spdb:data protocol="mdsplus">DATA(\BETAP)[{time_slice}]</spdb:data></beta_pol>
            <beta_tor><spdb:data protocol="mdsplus">DATA(\BETAT)[{time_slice}]</spdb:data></beta_tor>
            <beta_normal><spdb:data protocol="mdsplus">DATA(\BETAN)[{time_slice}]</spdb:data></beta_normal>

            <ip><spdb:data protocol="mdsplus">DATA(\EFIT_MFILE:PLASMA)[{time_slice}]</spdb:data></ip>

            <li_3><spdb:data protocol="mdsplus">DATA(\LI)[{time_slice}]</spdb:data></li_3>

            <volume><spdb:data protocol="mdsplus">DATA(\VOLUME)[{time_slice}]</spdb:data></volume>

            <psi_axis><spdb:data protocol="mdsplus">DATA(\SSIMAG)[{time_slice}]</spdb:data></psi_axis>

            <psi_boundary><spdb:data protocol="mdsplus">DATA(\SSIBRY)[{time_slice}]</spdb:data></psi_boundary>

            <magnetic_axis>
                <r><spdb:data protocol="mdsplus">DATA(\RMAXIS)[{time_slice}]</spdb:data></r>
                <z><spdb:data protocol="mdsplus">DATA(\ZMAXIS)[{time_slice}]</spdb:data></z>
                <b_field_tor><spdb:data protocol="mdsplus">DATA(\BCENTR)[{time_slice}]</spdb:data></b_field_tor>
            </magnetic_axis>

            <q_axis><spdb:data protocol="mdsplus">DATA(\Q0)[{time_slice}]</spdb:data></q_axis>
            <q_95><spdb:data protocol="mdsplus">DATA(\Q95)[{time_slice}]</spdb:data></q_95>
            <q_min>
                <value><spdb:data protocol="mdsplus">DATA(\QL)[{time_slice}]</spdb:data></value>
                <rho_tor_norm><spdb:data protocol="mdsplus">DATA(\AMINOR)[{time_slice}]</spdb:data></rho_tor_norm> <!-- need comment -->
            </q_min>

            <energy_mhd><spdb:data protocol="mdsplus">DATA(\WMHD)[{time_slice}]</spdb:data></energy_mhd>
        </global_quantities>

        <profiles_1d>
            <!-- <psi dtype="NONE">??</psi> -->
            <!-- <phi dtype="NONE">??</phi> -->
            <!-- <pressure dtype="NONE">??</pressure> -->

            <f><spdb:data protocol="mdsplus">DATA(\FPOL)[*,{time_slice}]</spdb:data></f>
            <dpressure_dpsi><spdb:data protocol="mdsplus">DATA(\PPRIME)[*,{time_slice}]</spdb:data></dpressure_dpsi>
            <f_df_dpsi><spdb:data protocol="mdsplus">DATA(\FFPRIM)[*,{time_slice}]</spdb:data></f_df_dpsi>

            <!-- <j_tor dtype="NONE">???</j_tor> -->
            <!-- <j_parallel dtype="NONE">???</j_parallel> -->

            <q><spdb:data protocol="mdsplus">DATA(\QPSI)[*,{time_slice}]</spdb:data></q>

            <!-- <geometric_axis>
                <r dtype="NONE" /> 
                <z dtype="NONE" /> 
            </geometric_axis> -->

            <!-- <magnetic_shear dtype="NONE" />  -->
            <!-- <r_inboard dtype="NONE" />  -->
            <!-- <r_outboard dtype="NONE" />  -->
            <!-- <rho_tor dtype="NONE" />  -->
            <!-- <rho_tor_norm dtype="NONE" />  -->
            <!-- <dpsi_drho_tor dtype="NONE" />  -->
            
            <!-- <elongation dtype="NONE" />  -->
            <!-- <triangularity_upper dtype="NONE" />  -->
            <!-- <triangularity_lower dtype="NONE" />  -->

            <!-- <volume><spdb:data protocol="mdsplus">DATA(\VOLUME)[*,{time_slice}]</spdb:data></volume>    -->
            <!-- <rho_volume_norm dtype="NONE" />  -->
            <!-- <dvolume_dpsi dtype="NONE" />  -->
            <!-- <dvolume_drho_tor dtype="NONE" />  -->

            <!-- <area dtype="NONE" />  -->
            
            <!-- <b_field_average dtype="NONE" />  -->
            <!-- <b_field_min dtype="NONE" />  -->
            <!-- <b_field_max dtype="NONE" />  -->
            <!-- <beta_pol dtype="NONE" />  -->
            <!-- <mass_density dtype="NONE" />  -->


        </profiles_1d>

        <profiles_2d>   
            <!-- <r dtype="NONE"/> -->

            <!-- <z dtype="NONE"/> -->

            <psi><spdb:data protocol="mdsplus" tree="EAST_EFIT">DATA(\PSIRZ)[*,*,{time_slice}]</spdb:data></psi>

            <grid>
                <dim1><spdb:data protocol="mdsplus">DATA(\R)[*]</spdb:data></dim1>
                <dim2><spdb:data protocol="mdsplus">DATA(\Z)[*]</spdb:data></dim2>
            </grid>

            

            <!-- <theta dtype="NONE"/> -->

            <!-- <phi dtype="NONE"/> -->
            
            <!-- <j_tor dtype="NONE"/> -->

            <!-- <j_parallel dtype="NONE"/> -->

            <!-- <b_field_r dtype="NONE"/> -->

            <!-- <b_field_z dtype="NONE"/> -->

            <!-- <b_field_tor dtype="NONE"/> -->

        </profiles_2d>  
        <profiles_2d>   
            <!-- <r dtype="NONE"/> -->

            <!-- <z dtype="NONE"/> -->

            <psi><spdb:data protocol="mdsplus">DATA(\PSIRZ)[*,*,{time_slice}]</spdb:data></psi>

            <grid>
                <dim1><spdb:data protocol="mdsplus">DATA(\R)[*]</spdb:data></dim1>
                <dim2><spdb:data protocol="mdsplus">DATA(\Z)[*]</spdb:data></dim2>
            </grid>

            <!-- <theta dtype="NONE"/> -->

            <!-- <phi dtype="NONE"/> -->
            
            <!-- <j_tor dtype="NONE"/> -->

            <!-- <j_parallel dtype="NONE"/> -->

            <!-- <b_field_r dtype="NONE"/> -->

            <!-- <b_field_z dtype="NONE"/> -->

            <!-- <b_field_tor dtype="NONE"/> -->

        </profiles_2d>  
    </time_slice>
</equilibrium>
